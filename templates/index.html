{% extends 'base.html' %}
{% block content %}
  <div class="py-4 text-center">
    <h1 class="display-5">{{ site.brand_name if site and site.brand_name else 'Restaurant Menu' }}</h1>
    <p class="text-muted">Browse our categories and dishes below.</p>
  </div>

  {% if categories %}
    <div class="row g-4">
      {% for cat in categories %}
      <div class="col-12">
        <h3 class="border-bottom pb-2">{{ cat.name }}</h3>
        {% set items = items_by_cat.get(cat.id, []) %}
        {% if items %}
          <div class="list-group mb-4">
            {% for item in items %}
              <div class="list-group-item d-flex justify-content-between align-items-start">
                <div class="me-3">
                  <div class="fw-bold">{{ item.name }}</div>
                  {% if item.description %}<div class="small text-muted">{{ item.description }}</div>{% endif %}
                </div>
                {% if item.price is not none %}
                  <span class="badge bg-dark rounded-pill">${{ '%.2f'|format(item.price) }}</span>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <p class="text-muted">No items yet.</p>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted">No categories yet.</p>
  {% endif %}
{% endblock %}
